import { Injectable } from '@angular/core';
import { environment } from '../environments/environment';
import * as mapboxgl from 'mapbox-gl';


@Injectable({

  providedIn: 'root'

})
export class MapboxService {

  constructor() {
    (mapboxgl as any).accessToken = environment.mapbox.accessToken;
  }

  getMarkers() {
    const geoJson = [{
      type: 'Feature',
      geometry: {
        type: 'Point',
        coordinates: ['-98.491142', '29.424349']
      },
      properties: {
        message: 'San Antonio'
      }

    }];
    return geoJson;
  }

  ngOnInit() {

    this.mapboxgl.Control('load', (event) => {

  });

    this.mapboxgl.addSource('customMarker', {
    type: 'geojson',
    data: {
      type: 'FeatureCollection',
      features: []
    }
  });
  }

}
